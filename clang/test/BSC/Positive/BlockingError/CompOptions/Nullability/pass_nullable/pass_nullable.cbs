// RUN: %clang -Eno-pass-nullable -rewrite-bsc %s -o %t-rw.c
// RUN: FileCheck --input-file=%t-rw.c %s
// expected-no-diagnostics

safe void foo1(int *borrow a);
safe void test1(void) {
    int a = 10;
    int *borrow p1 = &mut a;
    foo1(p1);
    int *borrow _Nullable p2 = &mut a;
    foo1(p2);
    int *borrow _Nullable p3 = nullptr;
    foo1(p3);            // cannot pass nullable pointer argument
    foo1(&mut a);
    foo1(nullptr);       // cannot pass nullable pointer argument
}

// CHECK:      void foo1(int * a);
// CHECK-EMPTY: 
// CHECK:      void test1(void) {
// CHECK-NEXT:     int a = 10;
// CHECK-NEXT:     int * p1 = &a;
// CHECK-NEXT:     foo1(p1);
// CHECK-NEXT:     int * p2 = &a;
// CHECK-NEXT:     foo1(p2);
// CHECK-NEXT:     int * p3 = 0;
// CHECK-NEXT:     foo1(p3);
// CHECK-NEXT:     foo1(&a);
// CHECK-NEXT:     foo1(0);
// CHECK-NEXT: }
// CHECK-EMPTY: 