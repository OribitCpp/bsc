// RUN: %clang %s -o %t.output
// RUN: %t.output
// RUN: %clang -rewrite-bsc %s -o %t-rw.c
// RUN: %clang %t-rw.c -o %t-rw.output
// RUN: %t-rw.output
// expected-no-diagnostics

void int::increase(int* this) {
  *this += 1;
}


T foo<T>(T a) {
  int x = 2;
  x.increase();
  a.increase();
  return a + x;
}

int main() {
  int a = 5;
  int b = foo<int>(a);
  return 0;  
}