// RUN: %clang %s -o %t.output
// RUN: %t.output
// RUN: %clang -rewrite-bsc %s -o %t-rw.c
// RUN: %clang %t-rw.c -o %t-rw.output
// RUN: %t-rw.output
// expected-no-diagnostics

#include <stdio.h>

T max<T>(T a, T b) {
  return a > b ? a : b;
}

int main() {
  int a = 10;
  int b = 11;
  int m1 = max<int>(a, b); 
  int m2 = max<int>(12, a); 
  double m3 = max<double>(1.2, 1.3);
  float m4 = max<float>(2.12, 2.123);
  printf("m1 is %d\n", m1);
  printf("m2 is %d\n", m2);
  printf("m3 is %f\n", m3);
  printf("m4 is %f\n", m4);
  return 0;
}
